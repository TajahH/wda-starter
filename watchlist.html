<!DOCTYPE html>
<html>

<head>
    <title>Showing Watchlist</title>
    <link rel="stylesheet" href="./css/style.css" />
    <script type="module" src="./js/scripts.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body>

    <div x-data="watchlistComponent()" x-init="init()" x-cloak>
        <h1>Watchlist</h1>
        <h2 x-show="!movies.length">See your watchlist here!</h2>
        <div class="page-section">
            <div class="watchlist-page-container">
                <p><a href="index.html">Return to movie list</a></p>
                <ul>
                    <template x-for="movie in movies" :key="movie.id">
                        <li>
                            <a :href="`movie.html?movie_id=${movie.id}`" x-text="movie.title"></a>
                            <img :src="movie && movie.poster_path ? `https://image.tmdb.org/t/p/w342${movie.poster_path}` : ''"
                                :alt="movie ? (movie.title + ' poster') : ''" />
                            <button class="watchlist-btn--clear" type="button" @click="removeFromWatchlist(movie.id)">
                                Remove
                            </button>
                        </li>
                    </template>
                </ul>
            </div>
        </div>
</body>

</html>